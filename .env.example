# BetterShift Environment Variables Example

# Database Configuration
DATABASE_URL=file:./data/sqlite.db

# =====================================================
# Auth System Configuration
# =====================================================

# Enable/disable authentication system (default: false for backwards compatibility)
# NEXT_PUBLIC_AUTH_ENABLED=false

# Better Auth Secret Key (REQUIRED if auth enabled)
# Generate with: npx @better-auth/cli secret
# BETTER_AUTH_SECRET=your-secret-key-here

# Better Auth URL (REQUIRED if auth enabled)
NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:3000

# User Registration Settings
# NEXT_PUBLIC_ALLOW_USER_REGISTRATION=true  # Enable/disable new user signups

# Guest Access Settings
# NEXT_PUBLIC_ALLOW_GUEST_ACCESS=false  # Allow viewing calendars without login (default: false)

# Session Settings (server-side only)
# SESSION_MAX_AGE=604800  # 7 days (in seconds)
# SESSION_UPDATE_AGE=86400  # 1 day (in seconds)

# Trusted Origins (comma-separated, server-side only)
# BETTER_AUTH_TRUSTED_ORIGINS=http://localhost:3000,https://yourdomain.com

# =====================================================
# Social Providers (OAuth)
# =====================================================
# Note: CLIENT_IDs must be duplicated (server + client):
#   - Server-side: PROVIDER_CLIENT_ID (for Better Auth backend)
#   - Client-side: NEXT_PUBLIC_PROVIDER_CLIENT_ID (for UI detection)
# CLIENT_SECRET must remain server-only (never expose to client)

# Google OAuth
# GOOGLE_CLIENT_ID=your-google-client-id
# NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# GITHUB_CLIENT_ID=your-github-client-id
# NEXT_PUBLIC_GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# Discord OAuth
# DISCORD_CLIENT_ID=your-discord-client-id
# NEXT_PUBLIC_DISCORD_CLIENT_ID=your-discord-client-id
# DISCORD_CLIENT_SECRET=your-discord-client-secret

# =====================================================
# Generic OAuth Plugin - Custom OIDC Provider
# =====================================================

# NEXT_PUBLIC_CUSTOM_OIDC_ENABLED=false
# CUSTOM_OIDC_CLIENT_ID=your-client-id
# NEXT_PUBLIC_CUSTOM_OIDC_CLIENT_ID=your-client-id
# NEXT_PUBLIC_CUSTOM_OIDC_NAME=Custom SSO  # Display name for login button
# NEXT_PUBLIC_CUSTOM_OIDC_ISSUER=https://sso.example.com/.well-known/openid-configuration
# CUSTOM_OIDC_CLIENT_SECRET=your-client-secret
# CUSTOM_OIDC_SCOPES=openid profile email  # Space separated

# =====================================================
# Application Settings
# =====================================================

# GitHub API Configuration (for version endpoint)
GITHUB_REPO_OWNER=panteLx
GITHUB_REPO_NAME=BetterShift
GITHUB_BRANCH=main
# GITHUB_TOKEN=your_github_token_here  # Optional: Increases GitHub API rate limits from 60 to 5000 requests/hour

# Cache Settings (in seconds)
VERSION_CACHE_DURATION=3600  # Version info cache: 1 hour in seconds
GITHUB_API_REVALIDATE=3600   # GitHub API revalidation: 1 hour in seconds

# =====================================================
# Rate Limiting Configuration
# =====================================================
# All window values are in seconds

# Auth Endpoints (login)
# RATE_LIMIT_AUTH_REQUESTS=5  # Number of requests allowed
# RATE_LIMIT_AUTH_WINDOW=60  # Time window in seconds (1 minute)

# Registration
# RATE_LIMIT_REGISTER_REQUESTS=3
# RATE_LIMIT_REGISTER_WINDOW=600  # 10 minutes

# Password Change
# RATE_LIMIT_PASSWORD_CHANGE_REQUESTS=3
# RATE_LIMIT_PASSWORD_CHANGE_WINDOW=3600  # 1 hour

# Account Deletion
# RATE_LIMIT_ACCOUNT_DELETE_REQUESTS=1
# RATE_LIMIT_ACCOUNT_DELETE_WINDOW=3600  # 1 hour

# Avatar Upload
# RATE_LIMIT_UPLOAD_AVATAR_REQUESTS=5
# RATE_LIMIT_UPLOAD_AVATAR_WINDOW=300  # 5 minutes

# SSE Connection Limit (per user)
# RATE_LIMIT_SSE_CONNECTIONS=10  # Allow 10 reconnects for page reloads
# RATE_LIMIT_SSE_WINDOW=10  # 10 seconds (short window for quick reconnects)

# Calendar Creation
# RATE_LIMIT_CALENDAR_CREATE_REQUESTS=10
# RATE_LIMIT_CALENDAR_CREATE_WINDOW=3600  # 1 hour

# External Sync Execution (per calendar)
# RATE_LIMIT_EXTERNAL_SYNC_REQUESTS=5
# RATE_LIMIT_EXTERNAL_SYNC_WINDOW=300  # 5 minutes

# PDF Export
# RATE_LIMIT_EXPORT_PDF_REQUESTS=10
# RATE_LIMIT_EXPORT_PDF_WINDOW=600  # 10 minutes

# Internationalization (i18n)
DEFAULT_LOCALE=en  # Default language if browser detection fails. Options: en, de

# Timezone Setting
TZ=Europe/Berlin  # Set the application's timezone (e.g., Europe/Berlin)

# Application Settings (NOT supported on Docker deployments)
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0
